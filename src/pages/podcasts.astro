---
import LayoutDefault from '~/layouts/LayoutDefault.astro'

interface Episode {
  title: string
  description: string
  date: string
  duration: string
  audioUrl: string
}

// Define your podcasts/episodes here
const podcasts: Episode[] = [
  // {
  //   title: '第一期：聊聊开源',
  //   description: '讨论开源社区的发展和参与开源的心得体会',
  //   date: '2024-01-15',
  //   duration: '45:30',
  //   audioUrl: '',
  // },
]

const platforms = [
  { name: '小宇宙', icon: 'podcast', url: '' },
  { name: 'Apple Podcasts', icon: 'apple', url: '' },
  { name: 'Spotify', icon: 'spotify', url: '' },
]
---

<LayoutDefault>
  <article class="prose prose-lg max-w-none">
    <h1>Podcasts</h1>
    <p class="lead">欢迎收听我的播客节目！在这里我会分享技术见解、行业观察和个人成长的心得。</p>

    {
      platforms.some((p) => p.url) && (
        <section class="not-prose mb-8">
          <h2 class="text-lg font-bold mb-4">订阅平台</h2>
          <div class="flex flex-wrap gap-4">
            {platforms
              .filter((p) => p.url)
              .map((platform) => (
                <a
                  href={platform.url}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="flex items-center gap-2 px-4 py-2 border border-primary/20 rounded-lg hover:border-primary/40 transition-colors"
                >
                  <span class:list={[`i-mdi-${platform.icon}`, 'w-5 h-5']} />
                  <span>{platform.name}</span>
                </a>
              ))}
          </div>
        </section>
      )
    }

    {
      podcasts.length > 0 ? (
        <section class="not-prose">
          <h2 class="text-lg font-bold mb-4">节目列表</h2>
          <div class="space-y-4">
            {podcasts.map((episode) => (
              <div class="p-6 border border-primary/20 rounded-lg">
                <div class="flex items-start justify-between gap-4">
                  <div class="flex-1">
                    <h3 class="text-lg font-bold">{episode.title}</h3>
                    <p class="mt-1 text-sm opacity-60">
                      {episode.date} · {episode.duration}
                    </p>
                    <p class="mt-2 opacity-70">{episode.description}</p>
                  </div>
                  {episode.audioUrl && (
                    <button class="p-3 bg-primary/10 rounded-full hover:bg-primary/20 transition-colors">
                      <span class="i-mdi-play w-6 h-6 block" />
                    </button>
                  )}
                </div>
              </div>
            ))}
          </div>
        </section>
      ) : (
        <section class="not-prose text-center py-12 border border-dashed border-primary/20 rounded-lg">
          <span class="i-mdi-microphone-off w-12 h-12 block mx-auto opacity-30 mb-4" />
          <p class="opacity-60">播客节目正在筹备中，敬请期待！</p>
          <p class="text-sm opacity-40 mt-2">Coming Soon...</p>
        </section>
      )
    }
  </article>
</LayoutDefault>
